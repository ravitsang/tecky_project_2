<figure class="fu fv fw fx fy fz ga gb cd gc gd ge gf gg ba gh gi gj gk gl gm paragraph-image"><div class="gn go dz gp ak"><div class="cl cm ft"><div class="gv r dz gw"><div class="gx r"><div class="gq gr cp t u gs ak eo gt gu"><img class="cp t u gs ak gy gz ha" src="https://miro.medium.com/max/60/0*HWswa5tQM1c6O3TY.jpg?q=20" width="640" height="426" role="presentation"></div><img class="gq gr cp t u gs ak ga" width="640" height="426" role="presentation"><noscript><img class="cp t u gs ak" src="https://miro.medium.com/max/1280/0*HWswa5tQM1c6O3TY.jpg" width="640" height="426" role="presentation"></noscript></div></div></div></div><figcaption class="bo en hb hc hd cn cl cm he hf bj em">Scraping data for your business</figcaption></figure><p id="ed08" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">Businesses that don’t rely on data have a very low chance of success in a data driven world.</p><p id="8d38" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">One of the best sources of data is the data available publicly online on various websites and to get this data you have to employ the technique called Web Scraping or Data Scraping.</p><p id="861d" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">You can use full service professionals such <a href="http://scrapehero.com/" class="at cg hu hv hw hx" target="_blank" rel="noopener nofollow">ScrapeHero </a>to do all this for you or if you feel brave enough, you can tackle this yourself.</p><p id="2bf4" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">The purpose of this article is to walk you through some of the things you need to do and the issues you need to be cognizant of when you do decide to do it yourself.</p><p id="c2ec" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">When you decide to do this yourself, you will most likely be hiring a few developers who know how to build scrapers and setting up some servers and related infrastructure to run these scrapers without interruption, and integrating the data you extract into your business process.</p><p id="c559" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">Building and maintaining a large number of web scrapers is a very complex process so proceed with caution.</p><p id="b3af" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">Here are the high level steps involved in this process and we will go through each of these in detail in this article.</p><ol class=""><li id="404d" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht hy hz ia">Build Scrapers</li><li id="8cb4" class="hg hh dc bk hi b hj ib hl ic hn id hp ie hr if ht hy hz ia">Run the Scrapers</li><li id="9689" class="hg hh dc bk hi b hj ib hl ic hn id hp ie hr if ht hy hz ia">Store the data</li><li id="280f" class="hg hh dc bk hi b hj ib hl ic hn id hp ie hr if ht hy hz ia">IP Rotation, Proxies and Blacklisting</li><li id="4dda" class="hg hh dc bk hi b hj ib hl ic hn id hp ie hr if ht hy hz ia">Quality Checks on Data</li><li id="e92b" class="hg hh dc bk hi b hj ib hl ic hn id hp ie hr if ht hy hz ia">Maintenance</li></ol><h1 id="0ca2" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Build Scrapers and Set up the servers</h1><p id="2cc2" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">The first thing to do is build the scrapers.</p><p id="4116" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">It may be best to choose an open-source framework for building your scrapers, like Scrapy or PySpider. These are excellent frameworks with a large community of developers. Both these frameworks are based on Python. You won’t run into the risk of your developer(s) disappearing in a day, and no one to maintain your scrapers because Python is popular and the community is really supportive.</p><p id="0b25" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">There is also a massive difference between writing and running one scraper that scrapes 100 pages to a large scale distributed scraping infrastructure that can scrape thousands of websites and millions of pages a day.</p><p id="5b87" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">If you are scraping a large number of big websites, you might need lot of servers to get the data in a reasonable time frame. We would suggest using Scrapy Redis or Run PySpider in scaled mode, across multiple servers.</p><p id="e828" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">Once you have chosen a framework, hire some good developers to build these scrapers, and set up the servers required to run them and to store the data.</p><h1 id="1f63" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Run Scrapers</h1><p id="cd43" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">If you need the data to be refreshed periodically, you’ll either have to <strong class="hi ix">run it manually or automate</strong> it using some tool or process.</p><p id="d786" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">If you are using Scrapy,scrapyd + cron can schedule the spiders for you, and it will update the data the way you need it. PySpider also has a UI to do that</p><h1 id="edec" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Store your data</h1><p id="ff0a" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">Once you have this massive data trove, you need a place to store it. We would suggest using a NoSQL database like MongoDB, Cassandra or HBase to store this data, depending upon the frequency and speed of scraping.</p><p id="3f9d" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">You can then extract this data from this database/datastore and integrate it with your business process. But before you do that, you should setup some Quality Assurance tests for your data (more on that later)</p><h1 id="2a8d" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">IP Rotation, Proxies and Blacklisting</h1><p id="3c14" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">Large scale scraping comes with a multitude of problems and one of the big ones is anti-scraping measures by the websites that you are trying to scrape.</p><p id="5d5f" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">If any of the target websites has any kind of <strong class="hi ix">IP based blocking</strong> involved, your servers’ IP address will be black listed in no time and the site won’t respond to requests from your servers. You’ll be left with very few options after getting blacklisted.</p><p id="4ea5" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">So, how do you bypass that? You’ll have to get some <strong class="hi ix">Proxies or Rotating IP solutions</strong> to use these for making requests from the scraper.</p><p id="08ff" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu"><a href="http://learn.scrapehero.com/how-to-prevent-getting-blacklisted-while-scraping/" class="at cg hu hv hw hx" target="_blank" rel="noopener nofollow">Here are few tips to prevent getting blacklisted</a></p><h1 id="6fb7" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Quality Assurance</h1><p id="2e31" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">The data you scrape is only as good as its quality. To ensure the data that you scraped in accurate and complete, you need to run a variety of QA tests on it right after it is scraped.</p><p id="9b23" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">Having a set of <strong class="hi ix">Tests </strong>for the integrity of the data is essential. Some of it can be automated by using Regular Expressions, to check if the data follows a predefined pattern and if it doesn’t then generate some alerts so that it can be manually inspected.</p><h1 id="8876" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Maintenance</h1><h2 id="b8d7" class="iy ih dc bk bj ii iz ja jb jc jd je jf jg jh ji jj">Scrapers</h2><p id="4b02" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu"><strong class="hi ix">Every website will change</strong> their structure now and then, and so should your scrapers. Scrapers usually need adjustments every few weeks, as a minor change in the target website affecting the fields you scrape might either give you incomplete data or even crash the scraper, depending on the logic of the scraper.</p><p id="f423" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">You have to be smart and detect this change and fix it before this ruins the data you are collecting.</p><h2 id="6867" class="iy ih dc bk bj ii iz ja jb jc jd je jf jg jh ji jj">Database &amp; Servers</h2><p id="3b75" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">Depending upon the size of data, you will have to clean up your database of outdated data to save space and money. You might also have to scale up your systems if you still need the old data. Sharding and Replication of databases can be of help.</p><p id="2c31" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">Server logs should also be cleaned periodically.</p><h1 id="f076" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Know when to ask for help</h1><p id="1960" class="hg hh dc bk hi b hj is hl it hn iu hp iv hr iw ht cu">This whole process is expensive and time consuming and you need to be ready to take on this challenge.</p><p id="4771" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu">You also need to know when to stop and ask for help. <a href="http://scrapehero.com/" class="at cg hu hv hw hx" target="_blank" rel="noopener nofollow">ScrapeHero </a>has been doing all this and more for many years now, so let us know if you need any help.</p><h1 id="259c" class="ig ih dc bk bj ii de ij dg ik il im in io ip iq ir">Related</h1><section class="cu cv cw cx cy"><div class="n p"><div class="ac ae af ag ah cz aj ak"><p id="2fb6" class="hg hh dc bk hi b hj hk hl hm hn ho hp hq hr hs ht cu"><em class="jt">Originally published at </em><a href="http://learn.scrapehero.com/scalable-do-it-yourself-scraping-how-to-build-and-run-scrapers-on-a-large-scale/" class="at cg hu hv hw hx" target="_blank" rel="noopener nofollow"><em class="jt">learn.scrapehero.com</em></a><em class="jt"> on December 1, 2015.</em></p></div></div></section>